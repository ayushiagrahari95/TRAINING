define(["dojo/_base/declare","alfresco/core/Core","alfresco/core/CoreXhr","alfresco/services/_QuickShareServiceTopicMixin","dojo/_base/lang","service/constants/Default"],function(h,d,e,b,c,f){return h([d,e,b],{constructor:function a(k){c.mixin(this,k);this.alfSubscribe(this.addQuickShareTopic,c.hitch(this,"onAddQuickShare"));this.alfSubscribe(this.removeQuickShareTopic,c.hitch(this,"onRemoveQuickShare"))},getAddQuickShareUrl:function j(k){return f.PROXY_URI+"api/internal/shared/share/"+k},getRemoveQuickShareUrl:function j(k){return f.PROXY_URI+"api/internal/shared/unshare/"+k},onAddQuickShare:function i(m){var l=c.getObject("node.jsNode.nodeRef.uri",false,m);if(l!=null){var k=(m.alfResponseTopic!=null)?m.alfResponseTopic:this.addQuickShareTopic;l=this.getAddQuickShareUrl(l);this.serviceXhr({url:l,data:null,method:"POST",alfTopic:k})}},onRemoveQuickShare:function g(m){var n=c.getObject("node.jsNode.properties.qshare:sharedId",false,m);if(n!=null){var k=(m.alfResponseTopic!=null)?m.alfResponseTopic:this.removeQuickShareTopic;var l=this.getRemoveQuickShareUrl(n);this.serviceXhr({url:l,data:null,method:"DELETE",alfTopic:k})}}})});