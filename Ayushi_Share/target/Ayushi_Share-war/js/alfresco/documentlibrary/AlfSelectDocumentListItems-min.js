define(["dojo/_base/declare","alfresco/menus/AlfMenuBarSelectItems","alfresco/documentlibrary/_AlfDocumentListTopicMixin","dojo/_base/lang","dojo/dom-class"],function(e,i,c,b,g){return e([i,c],{i18nRequirements:[{i18nFile:"./i18n/AlfSelectDocumentListItems.properties"}],iconClass:"alf-noneselected-icon",documentSelectionTopic:"ALF_DOCLIST_DOCUMENT_SELECTED",documentDeselectionTopic:"ALF_DOCLIST_DOCUMENT_DESELECTED",postCreate:function d(){this.selectionTopic=this.selectedDocumentsChangeTopic;this.alfSubscribe(this.documentsLoadedTopic,b.hitch(this,"onDocumentsLoaded"));this.inherited(arguments);this.alfSubscribe(this.documentSelectionTopic,b.hitch(this,this.onDocumentSelected));this.alfSubscribe(this.documentDeselectionTopic,b.hitch(this,this.onDocumentDeselected))},documentsAvailable:0,documentsSelected:0,onDocumentSelected:function a(k){this.documentsSelected++;if(this.documentsSelected>this.documentsAvailable){this.documentsSelected=this.documentsAvailable}this.determineSelection({selectedFiles:{length:this.documentsSelected}})},onDocumentDeselected:function j(k){this.documentsSelected--;if(this.documentsSelected<0){this.documentsSelected=0}this.determineSelection({selectedFiles:{length:this.documentsSelected}})},onDocumentsLoaded:function h(k){this.alfLog("log","New Documents Loaded",k);if(k&&k.documents&&k.documents.length!=null){this.documentsAvailable=k.documents.length}},determineSelection:function f(k){if(k.selectedFiles!=null&&k.selectedFiles.length!=null){if(this.documentsAvailable==0||k.selectedFiles.length==0){this.renderNoneSelected();this.documentsSelected=0}else{if(this.documentsAvailable>k.selectedFiles.length){this.renderSomeSelected()}else{if(this.documentsAvailable==k.selectedFiles.length){this.renderAllSelected();this.documentsSelected=this.documentsAvailable}}}}},widgets:[{name:"alfresco/menus/AlfMenuGroup",config:{widgets:[{name:"alfresco/menus/AlfMenuItem",config:{label:"All",publishTopic:"ALF_DOCLIST_FILE_SELECTION",publishPayload:{label:"select.all.label",value:"selectAll"}}},{name:"alfresco/menus/AlfMenuItem",config:{label:"None",publishTopic:"ALF_DOCLIST_FILE_SELECTION",publishPayload:{label:"select.none.label",value:"selectNone"}}},{name:"alfresco/menus/AlfMenuItem",config:{label:"Invert",publishTopic:"ALF_DOCLIST_FILE_SELECTION",publishPayload:{label:"invert.selection.label",value:"selectInvert"}}},{name:"alfresco/menus/AlfMenuItem",config:{label:"Documents",publishTopic:"ALF_DOCLIST_FILE_SELECTION",publishPayload:{label:"select.documents.label",value:"selectDocuments"}}},{name:"alfresco/menus/AlfMenuItem",config:{label:"Folders",publishTopic:"ALF_DOCLIST_FILE_SELECTION",publishPayload:{label:"select.folders.label",value:"selectFolders"}}}]}}]})});