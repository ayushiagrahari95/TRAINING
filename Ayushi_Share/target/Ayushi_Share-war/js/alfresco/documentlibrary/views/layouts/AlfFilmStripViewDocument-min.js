define(["dojo/_base/declare","alfresco/documentlibrary/AlfDocument","alfresco/core/ResizeMixin","dojo/_base/lang","dojo/_base/array","dijit/registry","dojo/dom-construct","dojo/dom-geometry","dojo/dom-style","dojo/query","dojo/NodeList-dom"],function(g,p,n,d,k,a,f,o,j,m,i){return g([p,n],{postMixInProperties:function e(){},postCreate:function h(){this.isContainer=d.getObject("currentItem.node.isContainer",false,this);this.nodeRef=d.getObject("currentItem.nodeRef",false,this);if(this.isContainer===null){}else{if(this.isContainer===true){this.processWidgets(d.clone(this.widgetsForContainer),this.containerNode);this.alfSetupResizeSubscriptions(this.resizeThumbnails,this)}else{if(this.isContainer===false){this.widgets=[{name:"alfresco/preview/AlfDocumentPreview"}];this.alfSubscribe("ALF_FILMSTRIP_DOCUMENT_REQUEST__"+this.nodeRef,d.hitch(this,this.requestDocument,this.nodeRef))}}}},resizeThumbnails:function l(){var s=j.getComputedStyle(this.domNode);var r=o.getMarginBox(this.domNode,s);var q=r.w;m(".alfresco-renderers-Thumbnail > span.inner > img",this.domNode).style({width:q+"px",height:q+"px"})},_documentRequested:false,render:function c(){if(!this.isContainer&&this.nodeRef){this.requestDocument(this.nodeRef)}},requestDocument:function b(r,s){if(!this._documentRequested){var q=this.generateUuid();this.alfSubscribe(q+"_SUCCESS",d.hitch(this,this.onDocumentLoaded));this.alfPublish("ALF_RETRIEVE_SINGLE_DOCUMENT_REQUEST",{nodeRef:r,alfResponseTopic:this.pubSubScope+q},true);this._documentRequested=true}},widgetsForContainer:[{name:"alfresco/renderers/Thumbnail",config:{folderImage:"folder-256.png"}}]})});