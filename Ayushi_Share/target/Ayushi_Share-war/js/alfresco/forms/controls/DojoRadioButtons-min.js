define(["alfresco/forms/controls/BaseFormControl","dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/RadioButton.html","dojo/text!./templates/RadioButtons.html","alfresco/core/Core","dijit/form/RadioButton","dojo/_base/lang","dojo/_base/array","dojo/dom-construct"],function(h,t,m,l,r,o,n,b,v,k,i){var a=t([m,l,n],{templateString:r,_radioButton:null,postCreate:function u(){this._radioButton=new b({name:this.name,value:this.value});this._radioButton.placeAt(this._radioButtonNode);this._labelNode.innerHTML=this.encodeHTML(this.message(this.label))}});var c=t([m,l,n],{templateString:o,options:null,optionToWidget:null,control:null,currentValue:null,lastValue:null,postCreate:function p(){this.optionToWidget={};if(this.options!=null&&this.options instanceof Array){k.forEach(this.options,function(x,w){if(typeof x.label=="string"&&typeof x.value=="string"){this.addOption(x)}else{this.alfLog("log","An option provided for a RadioButton was either missing a value or label",x)}},this)}this.setValue(this.value)},addOption:function q(w){w.name=this.name;var x=new a(w);x.placeAt(this.containerNode);this.optionToWidget[w.value]=x;x._radioButton.on("change",v.hitch(this,this.onButtonChange,x))},onButtonChange:function s(w,x){if(x){this.currentValue=w.value;this.control.formControlValueChange(this.name,this.lastValue,this.currentValue);this.control.validate()}else{this.lastValue=w.value}},removeOption:function g(w){if(typeof w.value=="string"){var x=this.optionToWidget[w.value];x.destroy()}},setValue:function d(w){if(this.optionToWidget!=null&&this.optionToWidget[w]!=null){this.optionToWidget[w]._radioButton.set("checked",true)}},getValue:function f(){for(var w in this.optionToWidget){var x=this.optionToWidget[w]._radioButton.get("checked");if(x){return this.optionToWidget[w]._radioButton.getValue()}}}});return t([h],{cssRequirements:[{cssFile:"./css/DojoRadioButtons.css"}],getWidgetConfig:function j(){return{id:this.id+"_CONTROL",name:this.name,value:this.value,options:(this.options!=null)?this.options:[],control:this}},createFormControl:function e(w){return new c(w)}})});