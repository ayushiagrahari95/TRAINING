define(["alfresco/forms/controls/BaseFormControl","alfresco/forms/controls/utilities/IconMixin","dojo/_base/declare","dijit/form/ValidationTextBox","dojo/_base/lang","dojo/dom-class"],function(h,e,c,g,a,f){return c([h,e],{cssRequirements:[{cssFile:"./css/DojoValidationTextBox.css"}],placeHolder:null,getWidgetConfig:function d(){var j=(this.placeHolder!=null)?this.message(this.placeHolder):"";return{id:this.generateUuid(),name:this.name,value:this.value,placeHolder:j,iconClass:this.iconClass}},createFormControl:function i(k,l){var m=new g(k);var j="";if(this.additionalCssClasses!=null){j=this.additionalCssClasses}f.add(this.domNode,"alfresco-forms-controls-DojoValidationTextBox "+j);this.addIcon(m);return m},_oldValue:null,__oldValue:null,setupChangeEvents:function b(){var j=this;if(this.wrappedWidget){this.wrappedWidget.on("keyup",function(){j._oldValue=j.__oldValue;j.__oldValue=this.getValue();j.alfLog("log","keyup - OLD value: "+j._oldValue+", NEW value: "+this.getValue());j.formControlValueChange(j.name,j._oldValue,this.getValue());j.validate()})}}})});