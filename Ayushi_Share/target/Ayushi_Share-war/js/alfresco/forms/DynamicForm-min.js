define(["dojo/_base/declare","alfresco/forms/Form","dojo/_base/lang","dojo/json"],function(d,c,f,b){return d([c],{subscriptionTopic:"ALF_DYNAMIC_FORM_UPDATE",postCreate:function e(){this.inherited(arguments);this.alfSubscribe(this.subscriptionTopic,f.hitch(this,"onFormRedrawRequest"))},onFormRedrawRequest:function a(j){var h=f.getObject("value",false,j);if(h==null){this.alfLog("warn","No 'value' attribute found in redraw form request payload",j,this)}else{if(this._form!=null){this._form.destroyDescendants(false)}try{if(this.okButton!=null){this.okButton.publishPayload={}}var g=b.parse(h);this.processWidgets(g,this._form.domNode)}catch(i){this.alfLog("error","An error occurred redrawing the form",i,h,this)}}}})});