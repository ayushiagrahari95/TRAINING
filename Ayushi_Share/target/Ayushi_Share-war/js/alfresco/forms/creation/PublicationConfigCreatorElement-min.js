define(["alfresco/forms/controls/MultipleEntryElement","dojo/_base/declare","alfresco/forms/PublishForm","alfresco/core/ObjectTypeUtils","dojo/_base/lang","dojo/_base/array","alfresco/forms/controls/DojoValidationTextBox","alfresco/forms/controls/DojoSelect","alfresco/forms/controls/MultipleEntryFormControl"],function(f,g,k,l,d,i,j,c,a){return g([f],{i18nRequirements:[{i18nFile:"./i18n/Publication.properties"}],determineKeyAndValue:function b(){this.inherited(arguments);if(this.elementValue.targetId===undefined){this.elementValue.targetId=""}if(this.elementValue.publishPayload===undefined){this.elementValue.publishPayload=[]}},createReadDisplay:function e(){var n=this.getValue();this.readDisplay.innerHTML=this.message("publication.readDisplay.label",{topic:n.publishTopic})},createEditDisplay:function m(){this.inherited(arguments);this.alfPublish("ALF_REQUEST_AVAILABLE_FORM_FIELDS",{})},getFormWidgets:function h(){return[{name:"alfresco/forms/controls/DojoValidationTextBox",config:{name:"fieldId",label:"fieldId",value:this.elementValue.fieldId,visibilityConfig:{initialValue:false}}},{name:"alfresco/forms/controls/DojoValidationTextBox",config:{name:"publishTopic",label:"publication.topic.label",description:"publication.topic.description",value:this.elementValue.publishTopic,requirementConfig:{initialValue:true}}},{name:"alfresco/forms/controls/MultipleKeyValuePairFormControl",config:{name:"publishPayload",label:"publication.config.label",description:"publication.config.description",value:this.elementValue.publishPayload}}]}})});