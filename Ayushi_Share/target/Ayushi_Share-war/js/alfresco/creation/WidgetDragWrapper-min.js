define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/WidgetDragWrapper.html","alfresco/core/Core","alfresco/core/CoreWidgetProcessing","dojo/on","dijit/registry","dojo/_base/lang","dojo/_base/array"],function(g,e,m,n,d,b,k,a,c,j){return g([e,m,d,b],{cssRequirements:[{cssFile:"./css/WidgetDragWrapper.css"}],i18nRequirements:[{i18nFile:"./i18n/WidgetDragWrapper.properties"}],templateString:n,postCreate:function h(){if(this.widgets!=null){this.processWidgets(this.widgets,this.controlNode)}},onWidgetDelete:function f(o){k.emit(this.domNode,"onWidgetDelete",{bubbles:true,cancelable:true,widgetToDelete:this})},getWidgetDefinitions:function l(){var p=a.findWidgets(this.controlNode);var o=[];j.forEach(p,c.hitch(this,"getSubWidgetDefinitions",o));return o},getSubWidgetDefinitions:function i(q,r,p){if(typeof r.getWidgetDefinitions==="function"){var o=r.getWidgetDefinitions();if(o!=null&&o.length>0){j.forEach(o,function(t,s){q.push(t)})}}}})});