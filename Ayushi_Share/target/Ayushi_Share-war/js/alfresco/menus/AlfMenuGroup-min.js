define(["dojo/_base/declare","dojo/text!./templates/AlfMenuGroup.html","alfresco/core/Core","alfresco/menus/AlfDropDownMenu","alfresco/core/CoreRwd","dojo/_base/event","dojo/dom-style","dojo/dom-class","dojo/keys","dijit/popup","dojo/string"],function(h,o,d,f,g,c,k,n,p,b,j){return h([f,d,g],{templateString:o,cssRequirements:[{cssFile:"./css/AlfMenuGroup.css"}],label:"",constructor:function a(q){this.templateString=j.substitute(o,{ddmTemplateString:f.prototype.templateString})},postCreate:function e(){if(this.label==""){k.set(this._groupTitleNode,"display","none")}else{this.label=this.message(this.label);this._groupTitleNode.innerHTML=this.encodeHTML(this.label)}if(this.additionalCssClasses){n.add(this._containerNode,this.additionalCssClasses)}this.inherited(arguments)},isFocusable:function l(){return this.hasChildren()},_onRightArrow:function(q){if(this.focusedChild&&this.focusedChild.popup&&!this.focusedChild.disabled){this.alfLog("log","Open cascading menu");this._moveToPopup(q)}else{this.alfLog("log","Try and find a menu bar in the stack and move to next");var r=this.findMenuBarAncestor(this.getParent());if(r){this.alfLog("log","Go to next item in menu bar");r.focusNext()}}},_onLeftArrow:function(q){if(this.getParent().parentMenu&&!this.getParent().parentMenu._isMenuBar){this.alfLog("log","Close cascading menu");this.getParent().parentMenu.focusChild(this.getParent().parentMenu.focusedChild);b.close(this.getParent())}else{var r=this.findMenuBarAncestor(this.getParent());if(r){this.alfLog("log","Focus previous item in menu bar");r.focusPrev()}else{q.stopPropagation();q.preventDefault()}}},findMenuBarAncestor:function m(t){var s=false;while(!s&&!t._isMenuBar){if(t.parentMenu){t=t.parentMenu}else{var r=t.getParent();while(r&&!r.parentMenu){r=r.getParent()}if(r&&r.parentMenu){t=r.parentMenu}s=(r==null)}}var q=(t._isMenuBar)?t:null;return q},_setSelected:function i(q){this._selected=true}})});