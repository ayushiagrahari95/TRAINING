define(["dojo/_base/declare","dijit/_WidgetBase","dijit/_TemplatedMixin","dojo/text!./templates/AlfMenuBar.html","alfresco/core/Core","alfresco/core/CoreWidgetProcessing","dojo/_base/array","dijit/MenuBar"],function(f,j,m,l,b,a,i,e){var h=f([e,b],{_lockPopupsOpen:false,_closeChild:function k(){this.alfLog("log","Custom MenuBar _closeChild");if(this._lockPopupsOpen){}else{this.inherited(arguments)}}});return f([j,m,b,a],{i18nScope:"org.alfresco.Menus",cssRequirements:[{cssFile:"./css/AlfMenuBar.css"}],i18nRequirements:[{i18nFile:"./i18n/AlfMenuBar.properties"}],templateString:l,_menuBar:null,lockPopupsOpen:function d(n){this._menuBar._lockPopupsOpen=n},postCreate:function g(){this._menuBar=new h({});this._menuBar.placeAt(this.containerNode);if(this.widgets&&this.widgets instanceof Array){i.forEach(this.widgets,function(o,n){if(o.config&&o.config.label){o.config.label=this.message(o.config.label)}},this);this.processWidgets(this.widgets)}},allWidgetsProcessed:function c(n){i.forEach(n,function(p,o){this._menuBar.addChild(p)},this)}})});