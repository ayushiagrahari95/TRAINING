define(["alfresco/core/ProcessWidgets","dijit/_OnDijitClickMixin","dojo/text!./templates/VerticalReveal.html","dojo/_base/declare","dojo/_base/lang","dojo/dom-construct","dojo/dom-class","dojo/dom-style","dojo/_base/array"],function(h,b,l,e,a,c,j,f,g){return e([h,b],{cssRequirements:[{cssFile:"./css/VerticalReveal.css"}],templateString:l,toggleLabel:null,subscriptionTopic:"ALF_VERTICAL_REVEAL",initiallyRevealed:false,postMixInProperties:function d(){if(this.toggleLabel==null){}else{this.toggleLabel=this.message(this.toggleLabel)}},postCreate:function i(){this._processedWidgetsToReveal=false;if(this.toggleLabel==null){j.add(this.toggleNode,"hidden")}this.alfSubscribe(this.subscriptionTopic,a.hitch(this,this.onDisplayToggle));if(this.initiallyRevealed===true&&this.widgets){this.processWidgets(this.widgets,this.containerNode);this._processedWidgetsToReveal=true}},onDisplayToggle:function k(){if(this._processedWidgetsToReveal===false&&this.widgets){this.processWidgets(this.widgets,this.containerNode);this._processedWidgetsToReveal=true}j.toggle(this.contentNode,"reveal")}})});