define(["dojo/_base/declare","dijit/form/Button","alfresco/core/Core","dojo/dom-class","dojo/_base/array","dojo/_base/lang","dojo/_base/event"],function(d,e,c,i,f,b,a){return d([e,c],{cssRequirements:[{cssFile:"./css/AlfButton.css"}],i18nRequirements:[{i18nFile:"./i18n/AlfButton.properties"}],publishTopic:"",publishPayload:null,additionalCssClasses:"",validTopic:"ALF_VALID_CONTROL",invalidTopic:"ALF_INVALID_CONTROL",postMixInProperties:function g(){this.label=this.message(this.label);this.inherited(arguments);if(this.publishPayload==null){this.publishPayload={}}},postCreate:function l(){this.inherited(arguments);i.add(this.domNode,"alfresco-buttons-AlfButton "+(this.additionalCssClasses!=null?this.additionalCssClasses:""));if(this.disableOnInvalidControls===true){this.invalidControls=[];this.alfSubscribe(this.invalidTopic,b.hitch(this,"onInvalidControl"));this.alfSubscribe(this.validTopic,b.hitch(this,"onValidControl"))}},disableOnInvalidControls:false,invalidControls:null,onInvalidControl:function h(n){var m=f.some(this.invalidControls,function(o){return o==n.name});if(!m){this.invalidControls.push(n.name)}this.set("disabled","true")},onValidControl:function k(m){this.invalidControls=f.filter(this.invalidControls,function(n){return n!=m.name});this.set("disabled",this.invalidControls.length>0)},onClick:function j(m){if(this.publishTopic!=null&&this.publishTopic!==""){this.alfPublish(this.publishTopic,this.publishPayload,(this.publishGlobal!==undefined&&this.publishGlobal===true))}else{this.alfLog("warn","A widget was clicked but did not provide any information on how to handle the event",this)}if(m){a.stop(m)}}})});