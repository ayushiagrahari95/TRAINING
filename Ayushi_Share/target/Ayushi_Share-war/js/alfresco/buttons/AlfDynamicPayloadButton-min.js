define(["dojo/_base/declare","alfresco/buttons/AlfButton","dojo/_base/array","dojo/_base/lang"],function(d,e,g,f){return d([e],{publishPayloadSubscriptions:null,postMixInProperties:function c(){this.inherited(arguments);g.forEach(this.publishPayloadSubscriptions,f.hitch(this,this.setupPayloadSubscriptions))},setupPayloadSubscriptions:function b(h){if(h.topic){this.alfSubscribe(h.topic,f.hitch(this,this.onPayloadUpdate,h.dataMapping))}else{this.alfLog("warn","A publishPayloadSubscription is configured without a 'topic' attribute",h,this)}},onPayloadUpdate:function a(k,j){if(this.publishPayload==null){this.publishPayload={}}if(k){for(var h in k){var i=f.getObject(h,false,j);if(i!=null){f.setObject(k[h],i,this.publishPayload)}}}else{f.mixin(this.publishPayload,j)}}})});