define(["dojo/_base/declare","alfresco/core/Core","dojo/on","dojo/_base/lang","alfresco/core/EventsTopicMixin"],function(f,c,j,b,e){return f([c,e],{triggerInterval:300,scrollTimeout:null,resizeTimeout:null,ignoreInitialScroll:true,hasInitialScrollHappened:false,constructor:function i(l){b.mixin(this,l);this.alfLog("log","alfresco/core/Events Registering");j(window,"scroll",b.hitch(this,"onScroll"));j(window,"resize",b.hitch(this,"onResize"))},_limit:function h(n,l,o,m){if(this[n]){if(m){return}clearTimeout(this[n])}var p=o||this.triggerInterval;this[n]=setTimeout(b.hitch(this,"onTimeout",l,n),p)},_debounce:function h(m,l,n){this._limit(m,l,n,false)},_throttle:function g(m,l,n){this._limit(m,l,n,true)},onTimeout:function d(l,m){this.alfPublish(l);this[m]=false},onScroll:function k(){if(this.ignoreInitialScroll&&!this.hasInitialScrollHappened){this.hasInitialScrollHappened=true}else{this._throttle("scrollTimeout",this.eventsScrollTopic)}},onResize:function a(){this._debounce("resizeTimeout",this.eventsResizeTopic)}})});